#import "./fragments/Media.gql"

# Globals
#import "./fragments/Global.gql"
#import "./fragments/Header.gql"

query PageSlugs($slug: String) {
	page: pageBySlug(slug: $slug) {
		data {
			attributes {
				title
				slug
				sections {
					__typename
					... on ComponentSectionsMedia {
						media {
							...MediaFragment
						}
						credit
					}
					... on ComponentSectionsQuote {
						content
						source
					}
					... on ComponentSectionsWysiwyg {
						content
					}
				}
				parent {
					data {
						attributes {
							slug
							title
							parent {
								data {
									attributes {
										slug
										title
										parent {
											data {
												attributes {
													slug
													title
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	global {
		...GlobalFragment
	}
	header {
		...HeaderFragment
	}
}
